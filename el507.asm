;-----------------------------------------------------------------------------
; COMPANY      : Confederation College
; FILE         : EL507.ASM
; FILE VERSION : 1.0
; PROGRAMMER   : Selumala
;-----------------------------------------------------------------------------
; REVISION HISTORY
;-----------------------------------------------------------------------------
;
; 1.0, 2024-12-10, Selumala
;   - Initial release
;
;-----------------------------------------------------------------------------
; MODULE DESCRIPTION
;-----------------------------------------------------------------------------
;
; Main program entry for Lab 5: Serial Communication
;
;-----------------------------------------------------------------------------
; GLOBALS
;-----------------------------------------------------------------------------

            .global     EL507_ToUpper

;-----------------------------------------------------------------------------
; MACROS
;-----------------------------------------------------------------------------

mov32       .macro      reg, imm
            movw        reg, #( imm & 0x0000ffff )
            movt        reg, #( imm >> 16 )
            .endm

;-----------------------------------------------------------------------------
; FUNCTION : EL507_Example
; PURPOSE  : Mixing C and assembly language example
;-----------------------------------------------------------------------------
;
; Description
;-------------------------------------
; This function adds one to the data addressed by the argument.
;
;
; Arguments:
;-------------------------------------
; R0: uint8_t* puiData
;
;
; Return:
;-------------------------------------
; None
;
;
			.text

EL507_ToUpper:

		    push    {lr, r1,r2}

		    ldrb    r1,[r0]
		    mov r2,r0

		        cmp   r1,#'a'
		        blt   Loop
		        cmp   r1,#'z'
		        bgt   Loop

		        sub   r1,r1,#32
		        mov r0,#1

		   strb  r1,[r2]

Loop: pop  {pc,r1,r2}
            .end

;-----------------------------------------------------------------------------
; END EL507.ASM
;-----------------------------------------------------------------------------
